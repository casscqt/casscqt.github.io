<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="前言：经常遇到这样的需求：从有导航栏的界面跳转到导航栏透明的界面，由于iOS从有导航栏跳转到透明导航栏界面，并且设置hideBottomWhenPush属性会有bug，即导航栏会有黑影。我采取将导航栏控制的navigationbar进行隐藏，自己在viewcontroller添加一个navigationbar以实现需求。过程中没有理解清楚navigationbar和navigationItem，">
<meta property="og:type" content="article">
<meta property="og:title" content="iO 关于NavigationBar、NavigationItem的记录">
<meta property="og:url" content="https://casscqt.github.io/2016/12/15/iO-关于NavigationBar、NavigationItem的记录/index.html">
<meta property="og:site_name" content="Cass的博客">
<meta property="og:description" content="前言：经常遇到这样的需求：从有导航栏的界面跳转到导航栏透明的界面，由于iOS从有导航栏跳转到透明导航栏界面，并且设置hideBottomWhenPush属性会有bug，即导航栏会有黑影。我采取将导航栏控制的navigationbar进行隐藏，自己在viewcontroller添加一个navigationbar以实现需求。过程中没有理解清楚navigationbar和navigationItem，">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/132693-6058a24ae2b6d17a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/132693-92f2fccb1d9f793f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/132693-721aa1698ae761d2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2016-12-15T12:23:26.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iO 关于NavigationBar、NavigationItem的记录">
<meta name="twitter:description" content="前言：经常遇到这样的需求：从有导航栏的界面跳转到导航栏透明的界面，由于iOS从有导航栏跳转到透明导航栏界面，并且设置hideBottomWhenPush属性会有bug，即导航栏会有黑影。我采取将导航栏控制的navigationbar进行隐藏，自己在viewcontroller添加一个navigationbar以实现需求。过程中没有理解清楚navigationbar和navigationItem，">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/132693-6058a24ae2b6d17a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="https://casscqt.github.io/2016/12/15/iO-关于NavigationBar、NavigationItem的记录/"/>

  <title> iO 关于NavigationBar、NavigationItem的记录 | Cass的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Cass的博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                iO 关于NavigationBar、NavigationItem的记录
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-15T11:43:29+08:00" content="2016-12-15">
              2016-12-15
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/15/iO-关于NavigationBar、NavigationItem的记录/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/15/iO-关于NavigationBar、NavigationItem的记录/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>前言：经常遇到这样的需求：从有导航栏的界面跳转到导航栏透明的界面，由于iOS从有导航栏跳转到透明导航栏界面，并且设置hideBottomWhenPush属性会有<a href="http://www.jianshu.com/p/e3ca1b7b6cec" target="_blank" rel="external">bug</a>，即导航栏会有黑影。我采取将导航栏控制的navigationbar进行隐藏，自己在viewcontroller添加一个navigationbar以实现需求。过程中没有理解清楚navigationbar和navigationItem，这里简单记录一下。</p>
</blockquote>
<h2 id="NavigationBar"><a href="#NavigationBar" class="headerlink" title="NavigationBar"></a>NavigationBar</h2><blockquote>
<p>The navigation bar displays information from a stack of UINavigationItem objects. At any given time, the UINavigationItem that is currently the topItem of the stack determines the title and other optional information in the navigation bar, such as the right button and prompt.</p>
</blockquote>
<p>翻译：navigationbar 展示通过一个栈对象navgationItem来展示信息，栈顶的navgationItem对象决定着导航标题和其他信息，例如导航栏右边提示按钮。<br><a id="more"></a><br>这里可以得知如果想管理navigationbar上面的左右按钮，标题信息，则需要创建一个navigationItem对象，对navigationItem进行设置后再push,pop等操作进入到navigationbar的栈中。而如果管理样式，则通过属性控制或者修改子控件。navigationbar的层级结构如下：<br><img src="http://upload-images.jianshu.io/upload_images/132693-6058a24ae2b6d17a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="navigationbar层级结构.png"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/132693-92f2fccb1d9f793f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<p>结构中看出：<br>默认navigationbar高度为44点，但navigationbar的View却有84点的高度，iOS7以后对背景进行了延伸。View中有背景图View、底部线条View还有图中红色框部分的按钮等控件。设置导航栏透明经常对背景图与底部线条设置为透明的图片。</p>
<p>navigationController下默认有一个navigationBar，这是navigationController管理下所有viewcontroller共用的。对于某个页面设置导航栏透明，滑动渐变效果，可以让navigationController的隐藏掉，自己给每个viewcontroller增加一个navigationBar，对这个navigationBar进行处理。退出界面后将导航栏恢复显示。这个方案也是上面推荐链接一个方案之一。这样可以避免一些因为设置导航栏透明，在界面中跳转带来的系统bug。</p>
<h2 id="NavigationItem"><a href="#NavigationItem" class="headerlink" title="NavigationItem"></a>NavigationItem</h2><p><img src="http://upload-images.jianshu.io/upload_images/132693-721aa1698ae761d2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="NavigationItem属性.png"><br>NavigationItem是UIViewController的属性，这也是导航器管理下的viewcontroller中进行设置的原因：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">self.navigationItem.title = @&quot;title&quot;;</div></pre></td></tr></table></figure></p>
<p>而不是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">self.navigationController.navigationItem.title = @&quot;title&quot;;</div></pre></td></tr></table></figure></p>
<p>思考了一下navigationItem为什么是viewcontroller的属性，而不是navigationbar的属性呢？因为navigationbar是栈的方式管理navigationItem。navigationcontroller每次push或者pop一个viewcontroller，其实也执行了对navigationbar执行了push or pop item。这样每个viewcontroller拥有自己的navigationItem，则可以订制自己的页面导航栏。</p>
<h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><p>1.<a href="http://www.jianshu.com/p/e3ca1b7b6cec" target="_blank" rel="external">http://www.jianshu.com/p/e3ca1b7b6cec</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/12/03/零碎笔记/" rel="next" title="零碎笔记">
                <i class="fa fa-chevron-left"></i> 零碎笔记
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/12/15/iO-关于NavigationBar、NavigationItem的记录/"
           data-title="iO 关于NavigationBar、NavigationItem的记录" data-url="https://casscqt.github.io/2016/12/15/iO-关于NavigationBar、NavigationItem的记录/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://7xiohr.com1.z0.glb.clouddn.com/favicon.ico"
               alt="Cass" />
          <p class="site-author-name" itemprop="name">Cass</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">6</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#NavigationBar"><span class="nav-number">1.</span> <span class="nav-text">NavigationBar</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NavigationItem"><span class="nav-number">2.</span> <span class="nav-text">NavigationItem</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#相关链接"><span class="nav-number">3.</span> <span class="nav-text">相关链接</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cass</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"cass"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
